
<div class="card mb-0">
  <div class="card-header">
    <b><i class="bi bi-table"></i>&nbsp;Department Wise Infrastructure</b>
  </div>
  <div class="card-body">
    <app-loader></app-loader>
    <div class="card tabCard1 mb-0" *ngFor="let item of AHDepartmentList; let idx =index">
      <div class="card-header">
        <b>
          {{idx+1}}.&nbsp;<i class="bi bi-building-add"></i>&nbsp;{{item.DepartmentName}}
        </b>

        Compliance<br />
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="rdAHinfraSelectAllActionType" id="rdAHinfraSelectAllYes" value="Yes" (change)="selectAll('Yes',idx)">
          <label class="form-check-label">Yes</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="rdAHinfraSelectAllActionType" id="rdAHinfraSelectAllNo" value="No" (change)="selectAll('No',idx)">
          <label class="form-check-label">No</label>
        </div>

      </div>
      <div class="card-body">
        <div class="row">
          <div class="table-responsive">
            <table class="table">
              <tbody>
                <tr *ngFor="let items of item.AHFacilityDepartmentList; let idxx =index" [hidden]="items.IsHide">
                  <td>
                    <div class="col-lg-12 col-md-12 col-sm-6 col-12 mb-3">
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="rdAHInfraActionType_{{idx}}_{{idxx}}" id="rdAHInfraActionTypeYes_{{idx}}_{{idxx}}" [(ngModel)]="items.Action" value="Yes" (change)="ClickOnAction(idx,idxx)">
                        <label class="form-check-label">Yes</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="rdAHInfraActionType_{{idx}}_{{idxx}}" id="rdAHInfraActionTypeNo_{{idx}}_{{idxx}}" value="No" [(ngModel)]="items.Action" (change)="ClickOnAction(idx,idxx)">
                        <label class="form-check-label">No</label>
                      </div>
                    </div>
                    <div class="row" [hidden]="items.Action !='No'">
                      <div class="col-lg-11 col-md-11 col-sm-6 col-12 mb-3">
                        <label>Remark : </label>
                        <textarea type="text" class="form-control" name="txtAHInfraRemark_{{idx}}_{{idxx}}" id="txtAHInfraRemark_{{idx}}_{{idxx}}" [(ngModel)]="items.Remark"></textarea>
                      </div>
                    </div>

                  </td>
                  <td style="width:5%">{{idxx+1}}</td>
                  <td style="width:60%;">
                    <div style="max-width: auto; white-space: normal;">{{items.Name}}</div>
                  </td>
                  <td>
                    <a *ngIf="items.ControlType=='UploadFile'" class="bi bi-file-earmark-pdf-fill" data-fancybox="gallery" href="{{items.ValuePath}}" data-caption="Image 10" title="click here to zoom" style="font-size:25px"></a>
                    <input disabled type="text" class="form-control" *ngIf="items.ControlType=='Text' || items.ControlType=='DropDown'" [(ngModel)]="items.Value" />
                  </td>
                  <td>
                    {{items.Unit}}
                  </td>
                  <td><button type="button" class="btn btn-sm btn-info" title="View" (click)="ViewTaril(items.ID,'DepartmentWiseInfraTrail')"><i class="fa fa-bars" aria-hidden="true"></i></button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="row" *ngIf="FinalRemarks.length>0">
      <div class="table-responsive">
        <table class="table table-bordered table-hover table-striped">
          <thead>
            <tr>
              <th>Sr.No.</th>
              <th>Role</th>
              <th>Remark</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item1 of FinalRemarks ; let idx =index">
              <td>{{idx+1}}</td>
              <td>{{item1.RoleID}}</td>
              <td>{{item1.Remark}}</td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
    <div class="row">
      <div class="col-lg-4 col-md-4 col-sm-6 col-12 mb-3">
        <label>Remarks</label>
        <textarea id="AHInfraFinalRemark" class="form-control" [(ngModel)]="dsrequest.FinalRemark"></textarea>
        <div *ngIf="isRemarkValid" class="text-danger">
          <p *ngIf="isRemarkValid"> This field is required .!</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <button class="btn btn-primary" type="button" (click)="SubmitAHInfraDetail_Onclick()">Submit</button>
      </div>
    </div>
  </div>
</div>
